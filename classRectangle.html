<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Rectangle Class </title>
    <style>
        body { font-family: Arial; padding: 20px; }
        input { margin: 5px 0; padding: 5px; width: 80px; }
        button { padding: 6px 12px; margin-top: 5px; }
        #info { margin-top: 15px; font-size: 16px; }
    </style>
</head>
<body>

<h2>üî∑ L·ªõp Rectangle</h2>

<canvas id="myCanvas" width="400" height="300" style="border:1px solid black;"></canvas>

<br><br>

Chi·ªÅu d√†i: <input type="number" id="lengthInput" value="150"><br>
Chi·ªÅu r·ªông: <input type="number" id="widthInput" value="80"><br>
<button onclick="updateRectangle()">C·∫≠p nh·∫≠t h√¨nh</button>

<div id="info"></div>

<script>

    // ===================== L·ªõp Rectangle ======================
    class Rectangle {
        constructor(length, width) {
            this.length = length;
            this.width = width;
        }

        getArea() {
            return this.length * this.width;
        }

        getPerimeter() {
            return 2 * (this.length + this.width);
        }

        draw(canvasId) {
            let canvas = document.getElementById(canvasId);
            let ctx = canvas.getContext("2d");

            // X√≥a canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // V·∫Ω h√¨nh ch·ªØ nh·∫≠t
            ctx.fillStyle = "skyblue";
            ctx.fillRect(20, 20, this.length, this.width);
        }
    }

    // ==================== Kh·ªüi t·∫°o ƒë·ªëi t∆∞·ª£ng ban ƒë·∫ßu ====================
    let rect = new Rectangle(150, 80);
    rect.draw("myCanvas");
    showInfo();

    // ==================== H√†m c·∫≠p nh·∫≠t ====================
    function updateRectangle() {
        let newLength = Number(document.getElementById("lengthInput").value);
        let newWidth  = Number(document.getElementById("widthInput").value);

        rect.length = newLength;
        rect.width = newWidth;

        rect.draw("myCanvas");
        showInfo();
    }

    // ==================== Hi·ªÉn th·ªã di·ªán t√≠ch + chu vi ====================
    function showInfo() {
        document.getElementById("info").innerHTML =
            `<b>Di·ªán t√≠ch:</b> ${rect.getArea()} <br>
         <b>Chu vi:</b> ${rect.getPerimeter()}`;
    }

</script>

</body>
</html>
